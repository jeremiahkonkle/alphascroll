(function(e,t){e.widget("mobile.listview",e.mobile.listview,{options:{alphascroll:false},_afterListviewRefresh:function(){var e=this.element;this._off(e,"listviewafterrefresh");this._displayList();this.refresh();this._on(e,{listviewafterrefresh:"_afterListviewRefresh"})},_displayList:function(){function u(){var r,s;e(n).each(function(t,n){if(e.inArray(n,i)>-1){o+='<li id="alphascroll-'+n+'" class="alphascroll-item" unselectable="on">'+n.toUpperCase()+"</li>"}else{o+='<li id="alphascroll-'+n+'" unselectable="on">'+n.toUpperCase()+"</li>"}});e(t).wrap("<div />");r=t.parent();e(r).prepend('<ul class="alphascroll">'+o+"</ul>");s=e(t).closest("div").children(".alphascroll");e(s).bind("touchmove",function(e){e.preventDefault();var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];f(t.pageY)});e(s).bind("mousedown",function(){e(".ui-page-active").bind("mousemove",function(t){e(this).css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});f(t.pageY)});e(".ui-page-active").bind("mouseup",function(){e(".ui-page-active").unbind("mousemove");e(this).css({"-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"})})});if(e(window).height()<=320){a()}}function a(){e(".alphascroll li").each(function(t,n){if(e.inArray(e(this).html().toLowerCase(),r)<0){e(this).html("&#183;").addClass("truncated")}})}function f(t){e(".alphascroll-item").each(function(){if(!(t<=e(this).offset().top||t>=e(this).offset().top+e(this).outerHeight())){var n=e(this).attr("id"),r=n.split("-"),i=e("."+r[1]),s=i.position(),o;if(e('.ui-page-active [data-role="header"]').hasClass("ui-fixed-hidden")){o=0}else{o=e('.ui-page-active [data-role="header"]').height()}e.mobile.silentScroll(s.top-o)}})}var t=this.element,n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r=["a","d","g","j","m","p","s","w","z"],i=[],s,o="";e(this.element).find(".ui-li-divider").each(function(){s=e(this).html().toLowerCase();i.push(s);e(this).addClass(s)});e(window).bind("orientationchange",function(){e(".alphascroll").unwrap().remove();o="";u()});u()},_create:function(){this._super();if(!this.options.alphascroll){return}this._afterListviewRefresh()}})})(jQuery)
